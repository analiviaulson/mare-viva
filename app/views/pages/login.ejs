<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Login - Mar√© Viva. Acesse sua conta para contribuir com a conserva√ß√£o dos oceanos.">
    <title>Login - Mar√© Viva</title>
    
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/responsive.css">
    
    <link rel="icon" type="image/png" href="/images/download-removebg-preview 2.png">
</head>
<body>
    <section class="auth-container">
        <article class="auth-card">
            <header class="auth-card__header">
                <figure class="auth-card__icon">
                    üë§
                </figure>
                <h1 class="auth-card__title">Fa√ßa seu Login</h1>
            </header>
            
            <form class="auth-form" id="loginForm" novalidate>
                <section class="form-group">
                    <label for="email" class="form-label">E-mail</label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        class="form-input" 
                        placeholder="exemplo@email.com"
                        required
                        autocomplete="email"
                    >
                    <section class="form-error" id="emailError"></section>
                </section>
                
                <section class="form-group">
                    <label for="password" class="form-label">Senha</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        class="form-input" 
                        placeholder="Digite sua senha"
                        required
                        autocomplete="current-password"
                    >
                    <section class="form-error" id="passwordError"></section>
                </section>
                
                <section class="form-group">
                    <button type="submit" class="btn btn-primary btn-full btn-large">
                        Login
                    </button>
                </section>
                
                <nav class="auth-card__footer">
                    <p>
                        N√£o tem uma conta? 
                        <a href="/cadastro" class="auth-card__link">Sign Up</a>
                    </p>
                    <p>
                        <a href="/index" class="auth-card__link">Voltar ao in√≠cio</a>
                    </p>
                </nav>
            </form>
        </article>
    </section>

    <script src="/js/forms.js"></script>
    <script>
        // Initialize login form
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Clear previous errors
                    clearFormErrors();
                    
                    // Get form data
                    const formData = new FormData(this);
                    const email = formData.get('email');
                    const password = formData.get('password');
                    
                    // Validate form
                    let isValid = true;
                    
                    if (!email || !isValidEmail(email)) {
                        showFieldError('emailError', 'Por favor, insira um e-mail v√°lido.');
                        isValid = false;
                    }
                    
                    if (!password || password.length < 6) {
                        showFieldError('passwordError', 'A senha deve ter pelo menos 6 caracteres.');
                        isValid = false;
                    }
                    
                    if (isValid) {
                        // Simulate login process
                        const submitBtn = this.querySelector('button[type="submit"]');
                        const originalText = submitBtn.textContent;
                        
                        submitBtn.textContent = 'Entrando...';
                        submitBtn.disabled = true;
                        
                        setTimeout(() => {
                            alert('Login realizado com sucesso!');
                            window.location.href = 'index.ejs';
                        }, 1500);
                    }
                });
            }
        });
        
        function clearFormErrors() {
            const errorElements = document.querySelectorAll('.form-error');
            errorElements.forEach(element => {
                element.textContent = '';
            });
        }
        
        function showFieldError(fieldId, message) {
            const errorElement = document.getElementById(fieldId);
            if (errorElement) {
                errorElement.textContent = message;
            }
        }
        
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
    </script>
</body>
</html>