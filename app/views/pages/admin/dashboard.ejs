<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <%- include('../../partials/head', {
        title:'Dashboard - Vendedor',
        description:'Painel de controle do vendedor. Gerencie seus produtos e vendas.'
    }) %>
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
    <header class="dashboard-header">
        <section class="dashboard-header__content">
            <header>
                <h1>Dashboard do Vendedor</h1>
                <p id="vendedorEmail" style="opacity: 0.9; margin-top: var(--spacing-xs);">
                    <%= user.email %>
                </p>
            </header>
            <nav aria-label="Ações do vendedor" style="display: flex; gap: var(--spacing-md);">
                <a href="/loja" class="btn btn-secondary">Ver Loja</a>
                <form method="POST" action="/vendedor/logout" style="display: inline;">
                    <button type="submit" class="btn btn-secondary">Sair</button>
                </form>
            </nav>
        </section>
    </header>

    <main class="main-content">
        <nav class="dashboard-nav">
            <ul>
                <li><a href="/vendedor/dashboard" class="active">Dashboard</a></li>
                <li><a href="/vendedor/produtos">Meus Produtos</a></li>
                <li><a href="/vendedor/pedidos">Meus Pedidos</a></li>
                <li><a href="/vendedor/perfil">Meu Perfil</a></li>
            </ul>
        </nav>

        <section class="dashboard-stats">
            <article class="stat-card">
                <figure class="stat-card__icon">
                    <i class="fa-solid fa-box"></i>
                </figure>
                <section class="stat-card__info">
                    <h3>Total de Produtos</h3>
                    <p id="totalProdutos">0</p>
                </section>
            </article>

            <article class="stat-card">
                <figure class="stat-card__icon">
                    <i class="fa-solid fa-shopping-cart"></i>
                </figure>
                <section class="stat-card__info">
                    <h3>Vendas Este Mês</h3>
                    <p id="vendasMes">0</p>
                </section>
            </article>

            <article class="stat-card">
                <figure class="stat-card__icon">
                    <i class="fa-solid fa-dollar-sign"></i>
                </figure>
                <section class="stat-card__info">
                    <h3>Receita Total</h3>
                    <p id="receitaTotal">R$ 0,00</p>
                </section>
            </article>

            <article class="stat-card">
                <figure class="stat-card__icon">
                    <i class="fa-solid fa-star"></i>
                </figure>
                <section class="stat-card__info">
                    <h3>Avaliação Média</h3>
                    <p id="avaliacaoMedia">4.5 ⭐</p>
                </section>
            </article>
        </section>

        <section class="produtos-section">
            <header class="produtos-header">
                <h2>Meus Produtos Recentes</h2>
                <a href="/vendedor/produtos/novo" class="btn btn-primary">
                    <i class="fa-solid fa-plus"></i> Adicionar Produto
                </a>
            </header>

            <section class="produtos-table" aria-label="Tabela de produtos recentes">
                <table>
                    <thead>
                        <tr>
                            <th>Produto</th>
                            <th>Categoria</th>
                            <th>Preço</th>
                            <th>Estoque</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="produtosTableBody">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 2rem;">
                                Nenhum produto cadastrado ainda.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <footer style="text-align: center; margin-top: var(--spacing-md);">
                <a href="/vendedor/produtos" class="btn btn-secondary">Ver Todos os Produtos</a>
            </footer>
        </section>

        <section class="pedidos-section" style="margin-top: var(--spacing-xl);">
            <header class="pedidos-header">
                <h2>Pedidos Recentes</h2>
            </header>

            <section class="pedidos-table" aria-label="Tabela de pedidos recentes">
                <table>
                    <thead>
                        <tr>
                            <th>ID do Pedido</th>
                            <th>Cliente</th>
                            <th>Data</th>
                            <th>Total</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="pedidosTableBody">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 2rem;">
                                Nenhum pedido recebido ainda.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <footer style="text-align: center; margin-top: var(--spacing-md);">
                <a href="/vendedor/pedidos" class="btn btn-secondary">Ver Todos os Pedidos</a>
            </footer>
        </section>

        <footer style="text-align: center; margin-top: var(--spacing-xl);">
            <a href="/" class="btn btn-secondary">Voltar ao Início</a>
        </footer>
    </main>

    <script src="/js/vendedor-dashboard.js"></script>
</body>
</html>

